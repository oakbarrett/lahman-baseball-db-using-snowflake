-- The following DDL will create a database named lahman, a schema named mlb, the 27 Lahman Baseball Database talbes and a file format named mlb_csv

create or replace database LAHMAN;

create or replace schema MLB;

create or replace TABLE ALLSTARFULL (
	PLAYERID VARCHAR(10) NOT NULL,
	YEARID NUMBER(38,0) NOT NULL,
	GAMENUM NUMBER(38,0) NOT NULL,
	GAMEID VARCHAR(12),
	TEAMID VARCHAR(3),
	LGID VARCHAR(2),
	GP NUMBER(38,0),
	STARTINGPOS NUMBER(38,0),
	primary key (PLAYERID, YEARID, GAMENUM)
);
create or replace TABLE APPEARANCES (
	YEARID NUMBER(38,0) NOT NULL,
	TEAMID VARCHAR(3) NOT NULL,
	LGID VARCHAR(2),
	PLAYERID VARCHAR(10) NOT NULL,
	G_ALL NUMBER(38,0),
	GS NUMBER(38,0),
	G_BATTING NUMBER(38,0),
	G_DEFENSE NUMBER(38,0),
	G_P NUMBER(38,0),
	G_C NUMBER(38,0),
	G_1B NUMBER(38,0),
	G_2B NUMBER(38,0),
	G_3B NUMBER(38,0),
	G_SS NUMBER(38,0),
	G_LF NUMBER(38,0),
	G_CF NUMBER(38,0),
	G_RF NUMBER(38,0),
	G_OF NUMBER(38,0),
	G_DH NUMBER(38,0),
	G_PH NUMBER(38,0),
	G_PR NUMBER(38,0),
	primary key (YEARID, TEAMID, PLAYERID)
);
create or replace TABLE AWARDSMANAGERS (
	PLAYERID VARCHAR(10) NOT NULL,
	AWARDID VARCHAR(25) NOT NULL,
	YEARID NUMBER(38,0) NOT NULL,
	LGID VARCHAR(2) NOT NULL,
	TIE VARCHAR(1),
	NOTES VARCHAR(100),
	primary key (YEARID, AWARDID, LGID, PLAYERID)
);
create or replace TABLE AWARDSPLAYERS (
	PLAYERID VARCHAR(10) NOT NULL,
	AWARDID VARCHAR(255) NOT NULL,
	YEARID NUMBER(38,0) NOT NULL,
	LGID VARCHAR(2),
	TIE VARCHAR(1),
	NOTES VARCHAR(100),
	primary key (YEARID, AWARDID, PLAYERID)
);
create or replace TABLE AWARDSSHAREMANAGERS (
	AWARDID VARCHAR(25) NOT NULL,
	YEARID NUMBER(38,0) NOT NULL,
	LGID VARCHAR(2) NOT NULL,
	PLAYERID VARCHAR(10) NOT NULL,
	POINTSWON NUMBER(38,0),
	POINTSMAX NUMBER(38,0),
	VOTESFIRST NUMBER(38,0),
	primary key (AWARDID, YEARID, LGID, PLAYERID)
);
create or replace TABLE AWARDSSHAREPLAYERS (
	AWARDID VARCHAR(25) NOT NULL,
	YEARID NUMBER(38,0) NOT NULL,
	LGID VARCHAR(2) NOT NULL,
	PLAYERID VARCHAR(10) NOT NULL,
	POINTSWON FLOAT,
	POINTSMAX NUMBER(38,0),
	VOTESFIRST FLOAT,
	primary key (AWARDID, YEARID, LGID, PLAYERID)
);
create or replace TABLE BATTING (
	PLAYERID VARCHAR(10) NOT NULL,
	YEARID NUMBER(38,0) NOT NULL,
	STINT NUMBER(38,0) NOT NULL,
	TEAMID VARCHAR(3),
	LGID VARCHAR(2),
	G NUMBER(38,0),
	G_BATTING NUMBER(38,0),
	AB NUMBER(38,0),
	R NUMBER(38,0),
	H NUMBER(38,0),
	H2B NUMBER(38,0),
	H3B NUMBER(38,0),
	HR NUMBER(38,0),
	RBI NUMBER(38,0),
	SB NUMBER(38,0),
	CS NUMBER(38,0),
	BB NUMBER(38,0),
	SO NUMBER(38,0),
	IBB NUMBER(38,0),
	HBP NUMBER(38,0),
	SH NUMBER(38,0),
	SF NUMBER(38,0),
	GIDP NUMBER(38,0),
	G_OLD NUMBER(38,0),
	primary key (PLAYERID, YEARID, STINT)
);
create or replace TABLE BATTINGPOST (
	YEARID NUMBER(38,0) NOT NULL,
	ROUND VARCHAR(10) NOT NULL,
	PLAYERID VARCHAR(10) NOT NULL,
	TEAMID VARCHAR(3),
	LGID VARCHAR(2),
	G NUMBER(38,0),
	AB NUMBER(38,0),
	R NUMBER(38,0),
	H NUMBER(38,0),
	H2B NUMBER(38,0),
	H3B NUMBER(38,0),
	HR NUMBER(38,0),
	RBI NUMBER(38,0),
	SB NUMBER(38,0),
	CS NUMBER(38,0),
	BB NUMBER(38,0),
	SO NUMBER(38,0),
	IBB NUMBER(38,0),
	HBP NUMBER(38,0),
	SH NUMBER(38,0),
	SF NUMBER(38,0),
	GIDP NUMBER(38,0),
	primary key (YEARID, ROUND, PLAYERID)
);
create or replace TABLE COLLEGEPLAYING (
	PLAYERID VARCHAR(10) NOT NULL,
	SCHOOLID VARCHAR(15) NOT NULL,
	YEARID NUMBER(38,0) NOT NULL,
	primary key (PLAYERID, SCHOOLID, YEARID)
);
create or replace TABLE FIELDING (
	PLAYERID VARCHAR(10) NOT NULL,
	YEARID NUMBER(38,0) NOT NULL,
	STINT NUMBER(38,0) NOT NULL,
	TEAMID VARCHAR(3),
	LGID VARCHAR(2),
	POS VARCHAR(2) NOT NULL,
	G NUMBER(38,0),
	GS NUMBER(38,0),
	INNOUTS NUMBER(38,0),
	PO NUMBER(38,0),
	A NUMBER(38,0),
	E NUMBER(38,0),
	DP NUMBER(38,0),
	PB NUMBER(38,0),
	WP NUMBER(38,0),
	SB NUMBER(38,0),
	CS NUMBER(38,0),
	ZR FLOAT,
	primary key (PLAYERID, YEARID, STINT, POS)
);
create or replace TABLE FIELDINGOF (
	PLAYERID VARCHAR(10) NOT NULL,
	YEARID NUMBER(38,0) NOT NULL,
	STINT NUMBER(38,0) NOT NULL,
	GLF NUMBER(38,0),
	GCF NUMBER(38,0),
	GRF NUMBER(38,0),
	primary key (PLAYERID, YEARID, STINT)
);
create or replace TABLE FIELDINGOFSPLIT (
	PLAYERID VARCHAR(10) NOT NULL,
	YEARID NUMBER(38,0) NOT NULL,
	STINT NUMBER(38,0) NOT NULL,
	TEAMID VARCHAR(3),
	LGID VARCHAR(2),
	POS VARCHAR(2) NOT NULL,
	G NUMBER(38,0),
	GS NUMBER(38,0),
	INNOUTS NUMBER(38,0),
	PO NUMBER(38,0),
	A NUMBER(38,0),
	E NUMBER(38,0),
	DP NUMBER(38,0),
	PB NUMBER(38,0),
	WP NUMBER(38,0),
	SB NUMBER(38,0),
	CS NUMBER(38,0),
	ZR FLOAT,
	primary key (PLAYERID, YEARID, STINT, POS)
);
create or replace TABLE FIELDINGPOST (
	PLAYERID VARCHAR(10) NOT NULL,
	YEARID NUMBER(38,0) NOT NULL,
	TEAMID VARCHAR(3),
	LGID VARCHAR(2),
	ROUND VARCHAR(10) NOT NULL,
	POS VARCHAR(2) NOT NULL,
	G NUMBER(38,0),
	GS NUMBER(38,0),
	INNOUTS NUMBER(38,0),
	PO NUMBER(38,0),
	A NUMBER(38,0),
	E NUMBER(38,0),
	DP NUMBER(38,0),
	TP NUMBER(38,0),
	PB NUMBER(38,0),
	SB NUMBER(38,0),
	CS NUMBER(38,0),
	primary key (PLAYERID, YEARID, ROUND, POS)
);
create or replace TABLE HALLOFFAME (
	PLAYERID VARCHAR(10) NOT NULL,
	YEARID NUMBER(38,0) NOT NULL,
	VOTEDBY VARCHAR(64) NOT NULL DEFAULT '',
	BALLOTS NUMBER(38,0),
	NEEDED NUMBER(38,0),
	VOTES NUMBER(38,0),
	INDUCTED VARCHAR(1),
	CATEGORY VARCHAR(20),
	NEEDED_NOTE VARCHAR(200),
	primary key (PLAYERID, YEARID, VOTEDBY)
);
create or replace TABLE HOMEGAMES (
	YEAR NUMBER(38,0) NOT NULL,
	LEAGUE VARCHAR(64) NOT NULL DEFAULT '',
	TEAM VARCHAR(10) NOT NULL,
	PARK VARCHAR(10) NOT NULL,
	SPAN_FIRST DATE,
	SPAN_LAST DATE,
	GAMES NUMBER(38,0),
	OPENINGS NUMBER(38,0),
	ATTENDANCE NUMBER(38,0),
	primary key (YEAR, LEAGUE, TEAM, PARK)
);
create or replace TABLE MANAGERS (
	PLAYERID VARCHAR(10),
	YEARID NUMBER(38,0) NOT NULL,
	TEAMID VARCHAR(3) NOT NULL,
	LGID VARCHAR(2),
	INSEASON NUMBER(38,0) NOT NULL,
	G NUMBER(38,0),
	W NUMBER(38,0),
	L NUMBER(38,0),
	RANK NUMBER(38,0),
	PLYRMGR VARCHAR(1),
	primary key (YEARID, TEAMID, INSEASON)
);
create or replace TABLE MANAGERSHALF (
	PLAYERID VARCHAR(10) NOT NULL,
	YEARID NUMBER(38,0) NOT NULL,
	TEAMID VARCHAR(3) NOT NULL,
	LGID VARCHAR(2),
	INSEASON NUMBER(38,0),
	HALF NUMBER(38,0) NOT NULL,
	G NUMBER(38,0),
	W NUMBER(38,0),
	L NUMBER(38,0),
	RANK NUMBER(38,0),
	primary key (YEARID, TEAMID, PLAYERID, HALF)
);
create or replace TABLE PARKS (
	ID NUMBER(38,0) NOT NULL,
	PARKALIAS VARCHAR(100),
	PARKKEY VARCHAR(50),
	PARKNAME VARCHAR(100),
	CITY VARCHAR(50),
	STATE VARCHAR(50),
	COUNTRY VARCHAR(50),
	primary key (ID)
);
create or replace TABLE PEOPLE (
	ID NUMBER(38,0),
	PLAYERID VARCHAR(10) NOT NULL,
	BIRTHYEAR NUMBER(38,0),
	BIRTHMONTH NUMBER(38,0),
	BIRTHDAY NUMBER(38,0),
	BIRTHCITY VARCHAR(50),
	BIRTHCOUNTRY VARCHAR(50),
	BIRTHSTATE VARCHAR(50),
	DEATHYEAR NUMBER(38,0),
	DEATHMONTH NUMBER(38,0),
	DEATHDAY NUMBER(38,0),
	DEATHCOUNTRY VARCHAR(50),
	DEATHSTATE VARCHAR(50),
	DEATHCITY VARCHAR(50),
	NAMEFIRST VARCHAR(50),
	NAMELAST VARCHAR(50),
	NAMEGIVEN VARCHAR(255),
	WEIGHT NUMBER(38,0),
	HEIGHT FLOAT,
	BATS VARCHAR(1),
	THROWS VARCHAR(1),
	DEBUT VARCHAR(10),
	BBREFID VARCHAR(9),
	FINALGAME VARCHAR(10),
	RETROID VARCHAR(9),
	primary key (PLAYERID)
);
create or replace TABLE PITCHING (
	PLAYERID VARCHAR(10) NOT NULL,
	YEARID NUMBER(38,0) NOT NULL,
	STINT NUMBER(38,0) NOT NULL,
	TEAMID VARCHAR(3),
	LGID VARCHAR(2),
	W NUMBER(38,0),
	L NUMBER(38,0),
	G NUMBER(38,0),
	GS NUMBER(38,0),
	CG NUMBER(38,0),
	SHO NUMBER(38,0),
	SV NUMBER(38,0),
	IPOUTS NUMBER(38,0),
	H NUMBER(38,0),
	ER NUMBER(38,0),
	HR NUMBER(38,0),
	BB NUMBER(38,0),
	SO NUMBER(38,0),
	BAOPP FLOAT,
	ERA FLOAT,
	IBB NUMBER(38,0),
	WP NUMBER(38,0),
	HBP NUMBER(38,0),
	BK NUMBER(38,0),
	BFP NUMBER(38,0),
	GF NUMBER(38,0),
	R NUMBER(38,0),
	SH NUMBER(38,0),
	SF NUMBER(38,0),
	GIDP NUMBER(38,0),
	primary key (PLAYERID, YEARID, STINT)
);
create or replace TABLE PITCHINGPOST (
	PLAYERID VARCHAR(10) NOT NULL,
	YEARID NUMBER(38,0) NOT NULL,
	ROUND VARCHAR(10) NOT NULL,
	TEAMID VARCHAR(3),
	LGID VARCHAR(2),
	W NUMBER(38,0),
	L NUMBER(38,0),
	G NUMBER(38,0),
	GS NUMBER(38,0),
	CG NUMBER(38,0),
	SHO NUMBER(38,0),
	SV NUMBER(38,0),
	IPOUTS NUMBER(38,0),
	H NUMBER(38,0),
	ER NUMBER(38,0),
	HR NUMBER(38,0),
	BB NUMBER(38,0),
	SO NUMBER(38,0),
	BAOPP FLOAT,
	ERA FLOAT,
	IBB NUMBER(38,0),
	WP NUMBER(38,0),
	HBP NUMBER(38,0),
	BK NUMBER(38,0),
	BFP NUMBER(38,0),
	GF NUMBER(38,0),
	R NUMBER(38,0),
	SH NUMBER(38,0),
	SF NUMBER(38,0),
	GIDP NUMBER(38,0),
	primary key (PLAYERID, YEARID, ROUND)
);
create or replace TABLE SALARIES (
	YEARID NUMBER(38,0) NOT NULL,
	TEAMID VARCHAR(3) NOT NULL,
	LGID VARCHAR(2) NOT NULL,
	PLAYERID VARCHAR(10) NOT NULL,
	SALARY FLOAT,
	primary key (YEARID, TEAMID, LGID, PLAYERID)
);
create or replace TABLE SCHOOLS (
	SCHOOLID VARCHAR(15) NOT NULL,
	NAME_FULL VARCHAR(255),
	CITY VARCHAR(55),
	STATE VARCHAR(55),
	COUNTRY VARCHAR(55),
	primary key (SCHOOLID)
);
create or replace TABLE SERIESPOST (
	YEARID NUMBER(38,0) NOT NULL,
	ROUND VARCHAR(5) NOT NULL,
	TEAMIDWINNER VARCHAR(3),
	LGIDWINNER VARCHAR(2),
	TEAMIDLOSER VARCHAR(3),
	LGIDLOSER VARCHAR(2),
	WINS NUMBER(38,0),
	LOSSES NUMBER(38,0),
	TIES NUMBER(38,0),
	primary key (YEARID, ROUND)
);
create or replace TABLE TEAMS (
	YEARID NUMBER(38,0) NOT NULL,
	LGID VARCHAR(2) NOT NULL,
	TEAMID VARCHAR(3) NOT NULL,
	FRANCHID VARCHAR(3),
	DIVID VARCHAR(1),
	RANK NUMBER(38,0),
	G NUMBER(38,0),
	GHOME NUMBER(38,0),
	W NUMBER(38,0),
	L NUMBER(38,0),
	DIVWIN VARCHAR(1),
	WCWIN VARCHAR(1),
	LGWIN VARCHAR(1),
	WSWIN VARCHAR(1),
	R NUMBER(38,0),
	AB NUMBER(38,0),
	H NUMBER(38,0),
	H2B NUMBER(38,0),
	H3B NUMBER(38,0),
	HR NUMBER(38,0),
	BB NUMBER(38,0),
	SO NUMBER(38,0),
	SB NUMBER(38,0),
	CS NUMBER(38,0),
	HBP NUMBER(38,0),
	SF NUMBER(38,0),
	RA NUMBER(38,0),
	ER NUMBER(38,0),
	ERA FLOAT,
	CG NUMBER(38,0),
	SHO NUMBER(38,0),
	SV NUMBER(38,0),
	IPOUTS NUMBER(38,0),
	HA NUMBER(38,0),
	HRA NUMBER(38,0),
	BBA NUMBER(38,0),
	SOA NUMBER(38,0),
	E NUMBER(38,0),
	DP NUMBER(38,0),
	FP FLOAT,
	NAME VARCHAR(50),
	PARK VARCHAR(255),
	ATTENDANCE NUMBER(38,0),
	BPF NUMBER(38,0),
	PPF NUMBER(38,0),
	TEAMIDBR VARCHAR(3),
	TEAMIDLAHMAN45 VARCHAR(3),
	TEAMIDRETRO VARCHAR(3),
	primary key (YEARID, LGID, TEAMID)
);
create or replace TABLE TEAMSFRANCHISES (
	FRANCHID VARCHAR(3) NOT NULL,
	FRANCHNAME VARCHAR(50),
	ACTIVE VARCHAR(2),
	NAASSOC VARCHAR(3),
	primary key (FRANCHID)
);
create or replace TABLE TEAMSHALF (
	YEARID NUMBER(38,0) NOT NULL,
	LGID VARCHAR(2) NOT NULL,
	TEAMID VARCHAR(3) NOT NULL,
	HALF VARCHAR(1) NOT NULL,
	DIVID VARCHAR(1),
	DIVWIN VARCHAR(1),
	RANK NUMBER(38,0),
	G NUMBER(38,0),
	W NUMBER(38,0),
	L NUMBER(38,0),
	primary key (YEARID, TEAMID, LGID, HALF)
);
CREATE OR REPLACE FILE FORMAT MLB_CSV
	SKIP_HEADER = 1
	REPLACE_INVALID_CHARACTERS = TRUE
;
